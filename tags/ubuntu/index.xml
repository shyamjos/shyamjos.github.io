<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ubuntu on Shyam Jos</title><link>https://shyamjos.com/tags/ubuntu/</link><description>Recent content in Ubuntu on Shyam Jos</description><generator>Hugo</generator><language>en</language><copyright>© Shyam Jos, Built with Hugo ♡</copyright><lastBuildDate>Thu, 24 Aug 2017 00:00:00 +0000</lastBuildDate><atom:link href="https://shyamjos.com/tags/ubuntu/index.xml" rel="self" type="application/rss+xml"/><item><title>How to create or restore efi partition in ubuntu</title><link>https://shyamjos.com/how-to-restore-or-create-efi-partition-in-ubuntu/</link><pubDate>Thu, 24 Aug 2017 00:00:00 +0000</pubDate><guid>https://shyamjos.com/how-to-restore-or-create-efi-partition-in-ubuntu/</guid><description>&lt;h2 id="what-type-of-file-system-is-used-in-efi-partition-" class="relative group">What Type of file system is used in EFI partition ? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#what-type-of-file-system-is-used-in-efi-partition-" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>EFI partition in Ubuntu is basically a FAT partition with label &amp;ldquo;EFI&amp;rdquo;&lt;/p>
&lt;h2 id="how-to-create--restore-an-efi-partition-" class="relative group">How to create / restore an efi partition ? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how-to-create--restore-an-efi-partition-" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Just reformat or create a normal FAT file system partition with a size of 512MB (can be any size) and label it as &amp;ldquo;EFI&amp;rdquo;, You can use fdisk command if you are comfortable with cli or you can use gparted tool from a live media of Ubuntu to create new efi partition.&lt;/p>
&lt;h2 id="how-can-i-reinstall-grub-efi-bootloader-after-creating-or-restoring-efi-partition-" class="relative group">How can I reinstall Grub efi bootloader after creating or restoring efi partition ? &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#how-can-i-reinstall-grub-efi-bootloader-after-creating-or-restoring-efi-partition-" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>After restoring or formatting efi partition your system will not boot since bootloader needs to be reinstalled on the new efi partition, follow this &lt;a href="https://shyamjos.com/reinstall-grub2-efi-bootloader-ubuntu/" target="_blank" rel="noreferrer">tutorial to reinstall grub efi bootloader in your Ubuntu&lt;/a> system.&lt;/p></description></item><item><title>How to reinstall grub2 efi bootloader on ubuntu</title><link>https://shyamjos.com/reinstall-grub2-efi-bootloader-ubuntu/</link><pubDate>Thu, 24 Aug 2017 00:00:00 +0000</pubDate><guid>https://shyamjos.com/reinstall-grub2-efi-bootloader-ubuntu/</guid><description>&lt;p>In this tutorial I will show you how to reinstall grub2 bootloader on a ubuntu system with efi partition.&lt;/p>
&lt;h2 id="boot-from-a-live-usbcd" class="relative group">Boot from a live usb/cd &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#boot-from-a-live-usbcd" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Boot from the ubuntu live usb/cd and select the option &amp;ldquo;try ubuntu without installing&amp;rdquo;&lt;/p>
&lt;h2 id="check-if-efi-is-enabled-in-bios" class="relative group">Check if EFI is enabled in bios &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#check-if-efi-is-enabled-in-bios" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Enter below command in terminal\&lt;/p>
&lt;pre tabindex="0">&lt;code>[ -d /sys/firmware/efi ] &amp;amp;&amp;amp; echo &amp;#34;EFI boot on HDD&amp;#34; || echo &amp;#34;Legacy boot on HDD&amp;#34;
&lt;/code>&lt;/pre>&lt;p>If you see &amp;ldquo;EFI boot on HDD&amp;rdquo; Message then you are already running on efi mode or if you see &amp;ldquo;Legacy boot on HDD&amp;rdquo; message then your system is not running on efi mode, you must change the boot options to efi before proceeding to next step.&lt;/p>
&lt;p>Note: First you have to find the partition name where ubuntu is installed, You can use &amp;ldquo;sudo fdisk -l&amp;rdquo; to list all hard disks and partitions in your computer. In my case /dev/sda is the name of my harddisk, /dev/sda2 is the partition where ubuntu is installed (root partition) and /dev/sda1 was the efi partition.&lt;/p>
&lt;h2 id="mount-and-chroot-into-local-filesystem" class="relative group">Mount and chroot into local filesystem &lt;span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100">&lt;a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style="text-decoration-line: none !important;" href="#mount-and-chroot-into-local-filesystem" aria-label="Anchor">#&lt;/a>&lt;/span>&lt;/h2>&lt;p>Note: You have to replace the sda with device name of your HDD, In most cases it is sda, assuming that you have only one hard disk installed.&lt;/p>
&lt;p>Note: If you get any errors while trying to mount your efi partition (&lt;code>/dev/sda1&lt;/code>), You may need to reformat your efi partition, In case if it got corrupted or if you accidentally formatted it. &lt;a href="https://linuxsuperuser.com/how-to-restore-or-create-efi-partition-in-ubuntu/" target="_blank" rel="noreferrer">Follow this tutorial to restore or reformat your efi partition&lt;/a>.&lt;/p>
&lt;p>Open terminal and enter below command\&lt;/p>
&lt;pre tabindex="0">&lt;code>sudo mount /dev/sda2 /mnt\
sudo mount /dev/sda1 /mnt/boot/efi\
for i in /dev /dev/pts /proc /sys /run; do sudo mount -B $i /mnt$i; done\
sudo chroot /mnt\
grub-install /dev/sda\
update-grub\
&lt;/code>&lt;/pre>&lt;p>Important : &lt;em>&lt;strong>use blkid command to check UUID of your efi partition, check if it matches the value in your /etc/fstab entry , otherwise ubuntu will not boot , You may need to update the UUID especially if you have formatted EFI partition . (Eg: sudo blkid /dev/sda1)&lt;/strong>&lt;/em>&lt;/p>
&lt;p>That&amp;rsquo;s it! Now reboot to test the bootloader&lt;/p></description></item></channel></rss>